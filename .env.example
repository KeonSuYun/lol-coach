# ============================================================
# HexCoach Backend 环境变量配置示例
# ============================================================
# 使用说明:
# 1. 复制此文件为 .env: cp .env.example .env
# 2. 修改以下配置项,填入真实值
# 3. 确保 .env 文件已被 .gitignore 忽略 (勿提交到 Git)
# ============================================================

# ============================================================
# 应用配置
# ============================================================
# 运行环境: development | production | test
APP_ENV=development

# JWT 密钥 (生产环境必须修改,建议使用 openssl rand -hex 32 生成)
SECRET_KEY=your-secret-key-change-this-in-production

# ============================================================
# 数据库配置
# ============================================================
# MongoDB 连接 URI
# 格式: mongodb://[username:password@]host[:port]/database
# 开发环境示例: mongodb://localhost:27017/lol_community
# 生产环境示例: mongodb://user:pass@mongodb.example.com:27017/hexcoach?authSource=admin
MONGO_URI=mongodb://localhost:27017/lol_community

# ============================================================
# AI 服务配置
# ============================================================
# DeepSeek API 密钥 (必需)
# 获取地址: https://platform.deepseek.com/api_keys
DEEPSEEK_API_KEY=sk-xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx

# DeepSeek API Base URL (可选,默认使用官方地址)
# DEEPSEEK_API_BASE=https://api.deepseek.com

# ============================================================
# 邮件服务配置 (用于用户注册验证)
# ============================================================
# SMTP 服务器地址 (默认: smtp.exmail.qq.com)
SMTP_SERVER=smtp.exmail.qq.com

# SMTP 端口 (默认: 465 - SSL加密)
# 常用端口: 465 (SSL), 587 (TLS), 25 (明文,不推荐)
SMTP_PORT=465

# SMTP 用户名 (通常是完整邮箱地址)
SMTP_USER=your-email@example.com

# SMTP 密码 (注意: 部分邮箱需使用授权码而非登录密码)
# QQ邮箱/企业邮箱: 需在邮箱设置中生成授权码
SMTP_PASSWORD=your-smtp-password-or-authorization-code

# 发件人显示名称 (可选,默认: HexCoach)
# EMAIL_FROM_NAME=HexCoach

# ============================================================
# 第三方服务配置
# ============================================================
# 爱发电 User ID (用于支付回调验证)
# 获取地址: https://afdian.net/dashboard/dev
AFDIAN_USER_ID=your-afdian-user-id

# 爱发电 Token (用于 Webhook 签名验证)
AFDIAN_TOKEN=your-afdian-token

# 客户端下载链接 (可选)
# 用于 /download-client 接口重定向
# CLIENT_DOWNLOAD_URL=https://example.com/downloads/HexLite-latest.exe

# ============================================================
# CORS 配置 (跨域资源共享)
# ============================================================
# 允许的前端域名列表 (逗号分隔,无空格)
# 开发环境示例: http://localhost:5173,http://localhost:3000
# 生产环境示例: https://hexcoach.gg,https://www.hexcoach.gg
# 注意: 生产环境请严格限制,仅允许真实的前端域名
ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000

# ============================================================
# 可选配置 (高级)
# ============================================================
# 日志级别: DEBUG | INFO | WARNING | ERROR | CRITICAL
# LOG_LEVEL=INFO

# API 频率限制 (每分钟请求数)
# RATE_LIMIT_PER_MINUTE=60

# 用户邮箱白名单 (逗号分隔,为空则不限制)
# 仅在开发/测试环境使用,限制可注册的邮箱
# 示例: user1@example.com,user2@example.com
# EMAIL_WHITELIST=

# 生产环境是否禁用 API 文档 (true | false)
# 建议生产环境设置为 true,仅允许管理员访问
# DISABLE_DOCS_IN_PRODUCTION=true

# MongoDB 连接备用 KEY (兼容性保留)
# 如果设置了 MONGO_URL,会被 MONGO_URI 覆盖
# MONGO_URL=mongodb://localhost:27017/
